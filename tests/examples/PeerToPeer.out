==========================================
reduce in PROGRAM : classes .
result Class: 
< "Node" : Class | Inh: noInh, Param: "db", Att: "db" |-> null, Mtds:
  < "availFiles" : Method | Param: "sList", Att: "_" |-> null, "fList" |->
    null, "files" |-> null, "l1" |-> null, "l2" |-> null, "sList" |-> null,
    Code: if "="("sList" :: list(emp)) th assign("files" ; list(emp)) el call(
    "l1" ; "head"("sList") ; "enquire" ; emp) ; call("l2" ; "this" ;
    "availFiles" ; "tail"("sList")) ; await "&&"(?("l1") :: ?("l2")) ; get("l1"
    ; "fList") ; free("l1") ; get("l2" ; "files") ; free("l2") ; assign("files"
    ; "|-"("files" :: list("head"("sList") :: "fList"))) fi ; return("files")
    >, < "enquire" : Method | Param: noVid, Att: "_" |-> null, "files" |->
    null, "label:0" |-> null, Code: call("label:0" ; "db" ; "listFiles" ; emp)
    ; await ?("label:0") ; get("label:0" ; "files") ; free("label:0") ; return(
    "files") >, < "getLength" : Method | Param: "fId", Att: "_" |-> null, "fId"
    |-> null, "label:0" |-> null, "lth" |-> null, Code: call("label:0" ; "db" ;
    "getLength" ; "fId") ; await ?("label:0") ; get("label:0" ; "lth") ; free(
    "label:0") ; return("lth") >, < "getPack" : Method | Param: "fId", "pNbr",
    Att: "_" |-> null, "f" |-> null, "fId" |-> null, "label:0" |-> null, "pNbr"
    |-> null, "pack" |-> null, Code: call("label:0" ; "db" ; "getFile" ; "fId")
    ; await ?("label:0") ; get("label:0" ; "f") ; free("label:0") ; assign(
    "pack" ; "nth"("f" :: "pNbr")) ; return("pack") >, < "init" : Method |
    Param: noVid, Att: "_" |-> null, Code: skip ; return(emp) >, < "reqFile" :
    Method | Param: "sId", "fId", Att: "_" |-> null, "fId" |-> null, "file" |->
    null, "label:0" |-> null, "label:1" |-> null, "label:2" |-> null, "lth" |->
    null, "pack" |-> null, "sId" |-> null, Code: call("label:0" ; "sId" ;
    "getLength" ; "fId") ; await ?("label:0") ; get("label:0" ; "lth") ; free(
    "label:0") ; while ">"("lth" :: int(0)) do call("label:1" ; "sId" ;
    "getPack" ; "fId" :: "lth") ; await ?("label:1") ; get("label:1" ; "pack")
    ; free("label:1") ; assign("file" ; "-|"("pack" :: "file")) ; assign("lth"
    ; "-"("lth" :: int(1))) od ; call("label:2" ; "db" ; "storeFile" ; "fId" ::
    "file") ; free("label:2") ; return(emp) >, < "run" : Method | Param: noVid,
    Att: "_" |-> null, Code: skip ; return(emp) >,
  Ocnt: 0 >

Bye.
